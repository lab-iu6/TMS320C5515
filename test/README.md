Тестовые функции:

1) aic3204_test
   
Эта функция представляет собой тест для аудиокодека AIC3204, использующий I2C для связи.
Сначала устанавливается значение системного регистра SYS_EXBUSSEL, после чего вызывается функция инициализации I2C, что позволяет контроллеру начать общение с аудиокодеком.
После чего воспроизводится сигнал частотой 1 кГц на наушниках, подключенных к разъему J4.
Далее осуществляется передача звука из стереовхода 1 (разъем J3) на наушники (разъем J4).

2) led_test

Эта функция представляет собой тест светодиода (LED) на устройстве, которое использует платформу USBSTK5515. В начале функции led_test происходит инициализация модуля LED с помощью вызова функции USBSTK5515_LED_init().
В цикле, который выполняется 10 раз, светодиод включается с помощью функции USBSTK5515_LED_on(0), после чего выполняется пауза длительностью 500000 микросекунд (или 0,5 секунды) с помощью USBSTK5515_waitusec(500000). Затем светодиод выключается с помощью функции USBSTK5515_LED_off(0) и снова следует пауза на 0,5 секунды. 
После завершения цикла, который отвечает за мигание, светодиод остается включенным, чтобы указать на успешное выполнение теста.

3) oled_test

Этот код предназначен для тестирования OLED-дисплея OSD9616, использующего интерфейс I2C для взаимодействия с контроллером. В начале кода происходит настройка необходимого подключения и инициализация I2C, а также активация питания дисплея через соответствующие GPIO-пины.
Затем выполняется последовательность команд, которые конфигурируют различные параметры дисплея, включая установку адресов колонок и линий, настройку контрастности, сегментов и отображения. Также устанавливаются режимы отображения и настройки частоты обновления. После этого дисплей заполняется черным цветом, а затем курсор перемещается в нужное положение для отображения текста.
Функция printLetter используется для передачи данных в виде байтов, представляющих символы, которые затем отображаются на экране. В коде несколько раз вызывается printLetter, чтобы вывести различные буквы и символы, формируя слова и фразы на дисплее.
Далее код устанавливает параметры прокрутки, включая вертикальную и горизонтальную прокрутку с заданными временными интервалами между шагами прокрутки, а также область, которая остается фиксированной, не прокручиваясь. В конце функция возвращает 0.

4) norflash_writer

Этот код предназначен для работы с NOR-флеш-памятью. Его основная задача заключается в чтении бинарного файла с диска, записи его содержимого в NOR-флеш-память, а затем проверке корректности записи путем сравнения записанных данных с исходными.
В начале программа запрашивает у пользователя имя файла, который нужно открыть и записать в флеш-память (можно в коде напрямую прописать путь к файлу: «fPtr = fopen("C:\\Users\\Admin\\Downloads\\tim\\bin.bin", "rb");»).  Файл открывается в двоичном режиме. Если файл не удается открыть, выводится сообщение об ошибке, и функция завершает свою работу. Файловая позиция устанавливается в конец файла для определения его размера. Если размер файла равен нулю, программа выдает сообщение и завершает выполнение.
Указатель ramPtr устанавливается на начало массива tx, где будут временно храниться данные. Затем происходит чтение содержимого файла в RAM. Если чтение прошло неуспешно, программа выводит предупреждение.
Затем происходит стирание области флеш-памяти, в которую будет производиться запись. Данные из RAM записываются в флеш-память. Если при записи произошли ошибки, то они сохраняются в переменной errors. После записи данные считываются обратно из флеш-памяти, и выполняется их сравнение с оригиналом из RAM. Если обнаружены отличия, они отображаются в консоли.

5) sd_test

Этот код представляет собой тестирование SD-карты, осуществляемое на уровне программного обеспечения. В начале происходит инициализация переменных и структур данных, связанных с картой SD и её конфигурацией. Затем, после настройки внешнего интерфейса для работы с SD-картой, происходит заполнение буфера отправки tx значениями от 0 до 127 и очистка буфера приема rx.
Далее код инициирует SD-карту с помощью функции MMCSD_initCard. Если инициализация завершилась неудачно, выводится сообщение об ошибке. После успешной инициализации происходит запись блока данных из буфера tx на SD-карту через функцию MMCSD_singleBlkWrite, после чего происходит чтение данных из SD-карты в буфер rx с помощью MMCSD_singleBlkRead.
Наконец, код сравнивает содержимое буферов tx и rx на предмет совпадений. Если данные в этих буферах не совпадают, устанавливается флаг ошибки. Функция возвращает 0 в случае успешного выполнения

6) switch_test

Этот код предназначен для тестирования переключателей на плате USBSTK5515 и управления светодиодами. Он инициализирует внешние светодиоды и содержит бесконечный цикл, в котором считывает состояние переключателей с помощью функции Get_Sar_Key(). Если нажата кнопка SW1, он переключает состояние зеленого светодиода (DS2), если нажата кнопка SW2, то переключается синий светодиод (DS5). При одновременном нажатии обоих переключателей SW1 и SW2 включаются красный (DS3) и желтый (DS4) светодиоды. Код выполняется до тех пор, пока не будет прерван вручную, без возвращения управления из функции switch_test.

7) uled_test
    
Этот код реализует тестирование пользовательских светодиодов на плате USBSTK5515. Функция uled_test() выполняет следующее: сначала она инициализирует пользовательские светодиоды и включает их на 50 мс поочередно, проходя через все четыре светодиода шесть раз. Для каждого светодиода, функция вызывает USBSTK5515_ULED_on() для включения и USBSTK5515_ULED_off() для выключения, с паузой между переключением состояния. Если произошла ошибка при включении или выключении светодиода, функция возвращает соответствующий код ошибки (1 для ошибки включения и 2 для ошибки выключения). В конце теста все светодиоды выключаются, и функция возвращает 0, что указывает на успешное завершение теста.
